<?xml version="1.0"?>
<Schema name="EdSchema 1.0">
  <Cube name="Smarter Assessments" cache="true" enabled="true">
    <Table name="fact_asmt_outcome" schema="edware_sds_1_0">
    </Table>
    <Dimension name="Dim Assessment" foreignKey="asmt_rec_id">
      <Hierarchy name="Assessment Hierarchy" primaryKey="asmt_rec_id" hasAll="true" allMemberName="All Assessments">
        <Table name="dim_asmt" schema="edware_sds_1_0"/>
        <Level name="GUID" column="asmt_guid" type="String" uniqueMembers="false"/>
        <Level name="Type" column="asmt_type" type="String" uniqueMembers="false"/>
        <Level name="Period" column="asmt_period" type="String" uniqueMembers="false"/>
        <Level name="Period Year" column="asmt_period_year" type="String" uniqueMembers="false"/>
        <Level name="Subject" column="asmt_subject" type="String" uniqueMembers="false"/>
        <Level name="Claim1" column="asmt_claim_1_name" type="String" uniqueMembers="false"/>
        <Level name="Claim2" column="asmt_claim_2_name" type="String" uniqueMembers="false"/>
        <Level name="Claim3" column="asmt_claim_3_name" type="String" uniqueMembers="false"/>
        <Level name="Claim4" column="asmt_claim_4_name" type="String" uniqueMembers="false"/>
        <Level name="Claim1 Weight" column="asmt_claim_1_score_weight" type="String" uniqueMembers="false"/>
        <Level name="Claim2 Weight" column="asmt_claim_2_score_weight" type="String" uniqueMembers="false"/>
        <Level name="Claim3 Weight" column="asmt_claim_3_score_weight" type="String" uniqueMembers="false"/>
        <Level name="Claim4 Weight" column="asmt_claim_4_score_weight" type="String" uniqueMembers="false"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="DimStudent" type="StandardDimension" foreignKey="student_id">
      <Hierarchy name="Student Hierarchy" primaryKey="student_id" hasAll="true" allMemberName="All Students">
        <Table name="dim_student" schema="edware_sds_1_0"/>
        <Level name="GUID" column="student_id" type="String" uniqueMembers="true"/>
        <Level name="Gender" column="gender" type="String" uniqueMembers="false"/>
        <Level name="Grade" column="grade" type="String" uniqueMembers="false"/>
        <Level name="State Code" column="state_code" type="String" uniqueMembers="false"/>
        <Level name="Zip Code" column="zip_code" type="String" uniqueMembers="false"/>
        <Level name="Student" column="student_id" type="Numeric" uniqueMembers="false">
          <NameExpression>
            <SQL dialect="generic">
"dim_student"."first_name" || ' ' || "dim_student"."last_name"
            </SQL>
          </NameExpression>
        </Level>
      </Hierarchy>
    </Dimension>
    <Dimension name="DimSection" type="StandardDimension" foreignKey="section_guid">
      <Hierarchy name="Section Hierarchy" primaryKey="section_guid" hasAll="true" allMemberName="All Sections">
        <Table name="dim_section" schema="edware_sds_1_0"/>
        <Level name="GUID" column="section_guid" type="String" uniqueMembers="true"/>
        <Level name="Class" column="class_name" type="String" uniqueMembers="false"/>
        <Level name="Subject" column="subject_name" type="String" uniqueMembers="false"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="DimInstitution" type="StandardDimension" foreignKey="inst_hier_rec_id">
      <Hierarchy name="Institutional Hierarchy" primaryKey="inst_hier_rec_id" hasAll="true" allMemberName="All Institutions">
        <Table name="dim_inst_hier" schema="edware_sds_1_0"/>
        <Level name="RECID" column="inst_hier_rec_id" type="Integer" uniqueMembers="true"/>
        <Level name="School Category" column="school_category" type="String" uniqueMembers="false"/>
        <Level name="State Code" column="state_code" type="String" uniqueMembers="false"/>
        <Level name="School Name" column="school_name" type="String" uniqueMembers="false"/>
        <Level name="District Name" column="district_name" type="String" uniqueMembers="false"/>
      </Hierarchy>
    </Dimension>
    <Dimension  name="DimStaff" type="StandardDimension" foreignKey="teacher_guid">
      <Hierarchy name="StaffHierarchy" primaryKey="staff_guid" hasAll="true" allMemberName="All Staff">
        <Table name="dim_staff" schema="edware_sds_1_0"/>
        <Level name="GUID" column="staff_guid" type="String" uniqueMembers="true"/>
        <Level name="User Type" column="hier_user_type" type="String" uniqueMembers="false"/>
        <Level name="State Code" column="state_code" type="String" uniqueMembers="false"/>
        <Level name="Teacher" column="staff_guid" type="Numeric" uniqueMembers="false">
          <NameExpression>
            <SQL dialect="generic">
"dim_staff"."first_name" || ' ' || "dim_staff"."last_name"
            </SQL>
          </NameExpression>
        </Level>
      </Hierarchy>
    </Dimension>
    <Measure name="MeasureCountAsmt" column="asmt_rec_id" datatype="Integer" formatString="####" aggregator="distinct-count" />
    <Measure name="MeasureCountStudent" column="student_id" datatype="String" formatString="####" aggregator="distinct-count" />
    <Measure name="MeasureSumStudent" column="student_rec_id" datatype="Integer" formatString="####" aggregator="sum" />
    <Measure name="MeasureCountSection" column="section_guid" datatype="String" formatString="####" aggregator="distinct-count" />
    <Measure name="MeasureCountInstitution" column="inst_hier_rec_id" datatype="Integer" formatString="####" aggregator="distinct-count" />
    <Measure name="MeasureTeacher" column="teacher_guid" datatype="String" formatString="####" aggregator="distinct-count" />
    <Measure name="MeasureMaxPerfLevel" column="asmt_perf_lvl" datatype="Integer" formatString="####.##" aggregator="max" />
    <Measure name="MeasureMinPerfLevel" column="asmt_perf_lvl" datatype="Integer" formatString="####.##" aggregator="min" />
    <Measure name="MeasureAvgPerfLevel" column="asmt_perf_lvl" datatype="Integer" formatString="####.##" aggregator="avg" />
  </Cube>
</Schema>
